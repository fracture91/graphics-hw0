This is mostly copy/paste from the sample program from Professor Agu,
cleaned up so it actually runs on my Ubuntu machine.

